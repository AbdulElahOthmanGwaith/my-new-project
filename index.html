<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مترجم عربي - أمهري | Arabic Amharic Translator</title>
    <meta name="description" content="مترجم مجاني وسريع من العربية إلى الأمهرية والعكس مع دعم الترجمة الصوتية والنسخ والوضع الليلي">
    <meta name="keywords" content="مترجم,عربي,أمهري,ترجمة,Arabic,Amharic,translator">
    <meta name="theme-color" content="#1E40AF">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="مترجم عربي-أمهري">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;500;600;700&family=Noto+Sans+Ethiopic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
</head>
<body>
    <!-- شريط التحميل -->
    <div id="loading-bar" class="loading-bar"></div>

    <!-- الرأس -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5"/>
                        <path d="M2 12l10 5 10-5"/>
                    </svg>
                    <h1>مترجم عربي - أمهري</h1>
                </div>
                <div class="header-actions">
                    <button id="theme-toggle" class="theme-toggle" aria-label="تبديل الوضع" title="تبديل الوضع">
                        <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"/>
                            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                        </svg>
                        <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- المحتوى الرئيسي -->
    <main class="main">
        <div class="container">
            <!-- شريط اللغات -->
            <div class="language-bar">
                <div class="language-selector">
                    <div class="select-wrapper">
                        <select id="source-lang" class="language-select">
                            <option value="ar">العربية</option>
                            <option value="am">الأمهرية</option>
                            <option value="en">الإنجليزية</option>
                        </select>
                        <svg class="select-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </div>
                    <button id="swap-languages" class="swap-btn" aria-label="تبديل اللغات" title="تبديل اللغات">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M7 16V4M7 4L3 8M7 4L11 8M17 8V20M17 20L21 16M17 20L13 16"/>
                        </svg>
                    </button>
                    <div class="select-wrapper">
                        <select id="target-lang" class="language-select">
                            <option value="am">الأمهرية</option>
                            <option value="ar">العربية</option>
                            <option value="en">الإنجليزية</option>
                        </select>
                        <svg class="select-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 9l6 6 6-6"/>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- منطقة الترجمة -->
            <div class="translation-area">
                <!-- مربع الإدخال -->
                <div class="translation-box input-box">
                    <div class="box-header">
                        <span class="source-label" id="source-label">العربية</span>
                        <div class="box-actions">
                            <button class="action-btn" id="source-speech" aria-label="النطق" title="استماع للنص">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                            </button>
                            <button class="action-btn" id="source-clear" aria-label="مسح" title="مسح النص">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M15 9l-6 6M9 9l6 6"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <textarea id="source-text" class="text-input" placeholder="اكتب نصك أو محادثتك هنا للترجمة...&#10;&#10;يمكنك إدخال محادثات طويلة ومحادثات متعددة الأسطر&#10;كل سطر جديد سيعتبر كجملة منفصلة" maxlength="50000" rows="4"></textarea>
                    <div class="char-stats" id="char-stats-container">
                        <div class="stats-group">
                            <!-- الكلمات -->
                            <div class="stat-item" id="word-stat" title="عدد الكلمات">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 7V4h16v3M9 20h6M12 4v16"/>
                                </svg>
                                <span class="stat-label">الكلمات:</span>
                                <span id="word-count" class="stat-value">0</span>
                            </div>
                            <!-- الجمل -->
                            <div class="stat-item" id="sentence-stat" title="عدد الأسطر/الجمل">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M8 12h8M8 16h4"/>
                                </svg>
                                <span class="stat-label">السطور:</span>
                                <span id="sentence-count" class="stat-value">0</span>
                            </div>
                            <!-- الفقرات -->
                            <div class="stat-item" id="paragraph-stat" title="عدد الفقرات">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="6" width="18" height="12" rx="2"/>
                                    <path d="M3 10h18M3 14h18"/>
                                </svg>
                                <span class="stat-label">الفقرات:</span>
                                <span id="paragraph-count" class="stat-value">0</span>
                            </div>
                        </div>
                        <div class="stats-group">
                            <!-- الأحرف -->
                            <div class="stat-item" id="char-stat" title="عدد الأحرف">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2v20M2 12h20"/>
                                </svg>
                                <span class="stat-label">الأحرف:</span>
                                <span id="char-count" class="stat-value">0</span>
                            </div>
                            <!-- التقدم -->
                            <div class="stat-item progress-stat" id="progress-stat" title="نسبة التقدم">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progress-fill"></div>
                                </div>
                                <span id="progress-percent" class="stat-value">0%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- زر الترجمة -->
                <div class="translate-btn-container">
                    <button id="translate-btn" class="translate-btn" disabled>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                        <span>ترجم الآن</span>
                    </button>
                </div>

                <!-- مربع المخرجات -->
                <div class="translation-box output-box">
                    <div class="box-header">
                        <span class="target-label" id="target-label">الأمهرية</span>
                        <div class="box-actions">
                            <button class="action-btn" id="target-speech" aria-label="النطق" title="استماع للترجمة">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                            </button>
                            <button class="action-btn" id="target-copy" aria-label="نسخ" title="نسخ الترجمة">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                                </svg>
                            </button>
                            <button class="action-btn" id="target-share" aria-label="مشاركة" title="مشاركة الترجمة">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"/>
                                    <circle cx="6" cy="12" r="3"/>
                                    <circle cx="18" cy="19" r="3"/>
                                    <path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div id="result-text" class="result-output" data-placeholder="ستظهر الترجمة هنا..."></div>
                    <div class="loading-spinner" id="loading-spinner">
                        <div class="spinner"></div>
                        <span>جاري الترجمة...</span>
                    </div>
                </div>
            </div>

            <!-- قسم الميزات -->
            <section class="features">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    </div>
                    <h3>ترجمة صوتية</h3>
                    <p>استمع إلى نطق الكلمات والترجمات بصوت طبيعي وواضح</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                        </svg>
                    </div>
                    <h3>نسخ بنقرة واحدة</h3>
                    <p>انسخ الترجمة بسهولة إلى الحافظة واستخدمها في أي مكان</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <h3>سرعة فائقة</h3>
                    <p>ترجمة فورية ودقيقة في ثوانٍ معدودة</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                        </svg>
                    </div>
                    <h3>مجاني تماماً</h3>
                    <p>استخدم جميع الميزات المتقدمة بدون أي تكاليف أو تسجيل</p>
                </div>
            </section>

            <!-- قسم آخر الترجمات -->
            <section class="history-section" id="history-section">
                <div class="section-header">
                    <h2>آخر الترجمات</h2>
                    <button id="clear-history" class="clear-history-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
                        </svg>
                        مسح الكل
                    </button>
                </div>
                <div class="history-list" id="history-list">
                    <!-- سيتم إضافة الترجمات هنا -->
                </div>
                <div class="empty-history" id="empty-history">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <p>لا توجد ترجمات سابقة</p>
                    <span>ابدأ بالترجمة لحفظها هنا</span>
                </div>
            </section>
        </div>
    </main>

    <!-- الإشعارات -->
    <div id="toast" class="toast"></div>

    <!-- رسالة الخطأ العالمية -->
    <div id="error-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <svg class="error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 8v4M12 16h.01"/>
                </svg>
                <h3>حدث خطأ</h3>
            </div>
            <div class="modal-body">
                <p id="error-message">حدث خطأ غير متوقع. يرجى المحاولة مرة أخرى.</p>
            </div>
            <div class="modal-footer">
                <button id="close-modal" class="modal-btn">حسناً</button>
            </div>
        </div>
    </div>

    <!-- التذييل -->
    <footer class="footer">
        <div class="container">
            <p>مترجم عربي - أمهري © 2025 | جميع الحقوق محفوظة</p>
            <p class="footer-note">يدعم: العربية، الأمهرية، الإنجليزية</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>